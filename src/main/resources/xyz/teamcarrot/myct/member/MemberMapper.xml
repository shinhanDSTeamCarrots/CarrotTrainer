<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xyz.teamcarrot.myct.member.MemberMapper">
	<select id="dupId" resultType="Integer" parameterType="String">
		SELECT COUNT(*) FROM tb_member WHERE member_id = #{xxx} 
	</select>
	<!-- 회원가입 시 아이디 중복 -->
	<insert id="regist" parameterType="xyz.teamcarrot.myct.member.MemberVO">
		INSERT INTO tb_member (
			member_id, member_pw, member_name, member_nickname, member_birthday, member_hp, member_email, member_addr1, member_addr2,
			member_joinDate			
		) VALUES (
			#{member_id}, MD5(#{member_pw}), #{member_name}, #{member_nickname}, #{member_birthday}, #{member_hp}, NOW(), #{member_addr1}, #{member_addr2}, NOW()
		)
		<selectKey keyProperty="member_no" order="AFTER" resultType="int">
			SELECT LAST_INSERT_ID()
		</selectKey>
	</insert>
	<select id="login" resultType="xyz.teamcarrot.myct.member.MemberVO" 
						parameterType="xyz.teamcarrot.myct.member.MemberVO">
		SELECT * FROM tb_member WHERE member_id=#{member_id} AND member_pw=MD5(#{member_pw})
	</select>
	
    
</mapper>
